{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _slicedToArray from \"C:/Dev/Projects/unimestreTwo/web/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"C:\\\\Dev\\\\Projects\\\\unimestreTwo\\\\web\\\\src\\\\pages\\\\admin\\\\index.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport { useGetAllSubjectsQuery, useMeQuery } from \"../../generated/graphql\";\nimport Link from \"next/link\";\nimport { useRouter } from \"next/router\";\n\nvar AdminPage = function AdminPage() {\n  _s();\n\n  var _getAllSubjectsData$d, _loginData$data;\n\n  var _useMeQuery = useMeQuery(),\n      _useMeQuery2 = _slicedToArray(_useMeQuery, 1),\n      loginData = _useMeQuery2[0];\n\n  var router = useRouter();\n\n  var _useGetAllSubjectsQue = useGetAllSubjectsQuery(),\n      _useGetAllSubjectsQue2 = _slicedToArray(_useGetAllSubjectsQue, 1),\n      getAllSubjectsData = _useGetAllSubjectsQue2[0];\n\n  var subjects = getAllSubjectsData === null || getAllSubjectsData === void 0 ? void 0 : (_getAllSubjectsData$d = getAllSubjectsData.data) === null || _getAllSubjectsData$d === void 0 ? void 0 : _getAllSubjectsData$d.subjects;\n\n  if (!(loginData !== null && loginData !== void 0 && (_loginData$data = loginData.data) !== null && _loginData$data !== void 0 && _loginData$data.me)) {\n    router.push(\"/login\");\n  } else {\n    var _loginData$data2, _loginData$data2$me;\n\n    if (!((loginData === null || loginData === void 0 ? void 0 : (_loginData$data2 = loginData.data) === null || _loginData$data2 === void 0 ? void 0 : (_loginData$data2$me = _loginData$data2.me) === null || _loginData$data2$me === void 0 ? void 0 : _loginData$data2$me.username) in [\"enzo2003\"])) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Voc\\xEA n\\xE3o tem acesso a esta p\\xE1gina.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 18,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 17,\n        columnNumber: 9\n      }, _this);\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: subjects === null || subjects === void 0 ? void 0 : subjects.map(function (subject) {\n      var name = subject === null || subject === void 0 ? void 0 : subject.name;\n      return /*#__PURE__*/_jsxDEV(Link, {\n        href: \"/admin/\".concat(name),\n        passHref: true,\n        children: /*#__PURE__*/_jsxDEV(\"h4\", {\n          style: {\n            color: \"white\"\n          },\n          children: name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 13\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 11\n      }, _this);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(AdminPage, \"VaLNxzduOd4yw+qyGUUnZ6duIvk=\", false, function () {\n  return [useMeQuery, useRouter, useGetAllSubjectsQuery];\n});\n\n_c = AdminPage;\nexport default AdminPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"AdminPage\");","map":{"version":3,"sources":["C:/Dev/Projects/unimestreTwo/web/src/pages/admin/index.tsx"],"names":["useGetAllSubjectsQuery","useMeQuery","Link","useRouter","AdminPage","loginData","router","getAllSubjectsData","subjects","data","me","push","username","map","subject","name","color"],"mappings":";;;;;;;AAAA,SAASA,sBAAT,EAAiCC,UAAjC,QAAmD,yBAAnD;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,SAASC,SAAT,QAA0B,aAA1B;;AAEA,IAAMC,SAAS,GAAG,SAAZA,SAAY,GAAM;AAAA;;AAAA;;AAAA,oBACFH,UAAU,EADR;AAAA;AAAA,MACfI,SADe;;AAEtB,MAAMC,MAAM,GAAGH,SAAS,EAAxB;;AAFsB,8BAIOH,sBAAsB,EAJ7B;AAAA;AAAA,MAIfO,kBAJe;;AAKtB,MAAIC,QAAQ,GAAGD,kBAAH,aAAGA,kBAAH,gDAAGA,kBAAkB,CAAEE,IAAvB,0DAAG,sBAA0BD,QAAzC;;AAEA,MAAI,EAACH,SAAD,aAACA,SAAD,kCAACA,SAAS,CAAEI,IAAZ,4CAAC,gBAAiBC,EAAlB,CAAJ,EAA0B;AACxBJ,IAAAA,MAAM,CAACK,IAAP,CAAY,QAAZ;AACD,GAFD,MAEO;AAAA;;AACL,QAAI,EAAE,CAAAN,SAAS,SAAT,IAAAA,SAAS,WAAT,gCAAAA,SAAS,CAAEI,IAAX,6FAAiBC,EAAjB,4EAAqBE,QAArB,KAAiC,CAAC,UAAD,CAAnC,CAAJ,EAAsD;AACpD,0BACE;AAAA,+BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,eADF;AAKD;AACF;;AAED,sBACE;AAAA,cACGJ,QADH,aACGA,QADH,uBACGA,QAAQ,CAAEK,GAAV,CAAc,UAAAC,OAAO,EAAI;AACxB,UAAMC,IAAI,GAAGD,OAAH,aAAGA,OAAH,uBAAGA,OAAO,CAAEC,IAAtB;AACA,0BACE,QAAC,IAAD;AAAM,QAAA,IAAI,mBAAYA,IAAZ,CAAV;AAA8B,QAAA,QAAQ,EAAE,IAAxC;AAAA,+BACE;AAAI,UAAA,KAAK,EAAE;AAACC,YAAAA,KAAK,EAAE;AAAR,WAAX;AAAA,oBAA8BD;AAA9B;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,eADF;AAKD,KAPA;AADH;AAAA;AAAA;AAAA;AAAA,WADF;AAYD,CA/BD;;GAAMX,S;UACgBH,U,EACLE,S,EAEcH,sB;;;KAJzBI,S;AAiCN,eAAeA,SAAf","sourcesContent":["import { useGetAllSubjectsQuery, useMeQuery } from \"../../generated/graphql\"\r\nimport Link from \"next/link\"\r\nimport { useRouter } from \"next/router\";\r\n\r\nconst AdminPage = () => {\r\n  const [loginData] = useMeQuery(); \r\n  const router = useRouter();\r\n\r\n  const [getAllSubjectsData] = useGetAllSubjectsQuery();  \r\n  let subjects = getAllSubjectsData?.data?.subjects; \r\n\r\n  if (!loginData?.data?.me) {\r\n    router.push(\"/login\")\r\n  } else {\r\n    if (!(loginData?.data?.me?.username in [\"enzo2003\"])) {\r\n      return (\r\n        <div>\r\n          <h1>Você não tem acesso a esta página.</h1>\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {subjects?.map(subject => {\r\n        const name = subject?.name; \r\n        return (\r\n          <Link href={`/admin/${name}`} passHref={true}>\r\n            <h4 style={{color: \"white\"}}>{name}</h4>\r\n          </Link>\r\n        )\r\n      })}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AdminPage; "]},"metadata":{},"sourceType":"module"}